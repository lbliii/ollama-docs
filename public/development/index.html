<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta name="title" content="MiloDocs: " />
<meta name="description" content="Development # Install required tools:
cmake version 3.24 or higher go version 1.22 or higher gcc version 11.4.0 or higher brew install go cmake gcc Copy Optionally enable debugging and more verbose logging:
# At build time export CGO_CFLAGS=&#34;-g&#34; # At runtime export OLLAMA_DEBUG=1 Copy Get the required libraries and build the native LLM code:
go generate ./... Copy Then build ollama:
go build . Copy Now you can run ollama:" />
<meta name="keywords" content="[]" />
<meta name="author" content="" />


<title> | MiloDocs</title>

  <link rel="stylesheet" href="/css/bundle.css">
<script src="/js/bundle.cca7746894b8b9b1c4052fd8b832a8e218fe49bcae077ac61493efc3f7ab4e71.js" integrity="sha256-zKd0aJS4ubHEBS/YuDKo4hj&#43;SbyuB3rGFJPvw/erTnE=" crossorigin="anonymous"></script>

</head>
<body class="bg-white">
  <header>
</header><nav id="topNav" class="sticky top-0 z-50 py-2 bg-white">
    <div class="max-w-screen-xl 2xl:max-w-screen-2xl mx-auto">
        <div id="topNavItemsContainer" class="flex space-x-2">
            <a href="/" class="flex items-center">
    <span class="w-5 h-5">
            <img src="/images/milo.png" alt="Logo Small" class="w-5"></span>
</a>

<div id="topNavLinks" class="flex items-center mx-2 space-x-4 text-black transition duration-300 justify-start w-1/3 font-brand font-light text-sm">
        <a href="/" aria-label="Home" class="hidden md:block">Home</a><a href="/get-started/" aria-label="Get Started" class="hidden md:block">Get Started</a>
    
    <div id="topNavPrimaryDropdown" class="hidden md:block relative group z-50">
        <a href="/" aria-label="Dropdown" class="">Dropdown</a>
        <div class="absolute left-0 mt-0 w-48 bg-white border border-gray-200 rounded-md overflow-hidden shadow-lg group-hover:block hidden p-1"><a href="/about" aria-label="About Us" class="flex px-4 py-1 text-sm text-black hover:bg-zinc-100 transition duration-100">About Us</a><a href="/services" aria-label="Services" class="flex px-4 py-1 text-sm text-black hover:bg-zinc-100 transition duration-100">Services</a><a href="/contact" aria-label="Contact" class="flex px-4 py-1 text-sm text-black hover:bg-zinc-100 transition duration-100">Contact</a></div>
    </div></div>
<div id="topNavSearch" class="flex items-center space-x-4 text-xs">
    <input type="search" id="searchInput" class="border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-brand md:w-96 bg-zinc-100 text-black" placeholder="Search..." aria-label="Search" />
</div><div id="topNavEnd" class="flex w-1/3 justify-end">
                
                <div class="flex items-center space-x-4">
                    <button id="chatTocToggle" aria-label="Toggle Chat" class="hidden md:block"><span class="w-5 h-5"><img id="chatRob" src="/icons/robot.svg" alt="toggle" class="hidden" title="Chat Panel"><img id="chatToc" src="/icons/toc.svg" alt="toggle" class="hidden" title="TOC Panel"></span></button>
                    <button id="darkModeToggle" aria-label="Toggle Darkmode"><span class="w-5 h-5"><img id="moon" src="/icons/dark.svg" alt="moon" class="hidden" title="Dark Mode"><img id="sun" src="/icons/light.svg" alt="sun" class="hidden" title="Light Mode"></span></button>
                </div>
            </div>
        </div>
    </div>
</nav><main class="max-w-screen-xl 2xl:max-w-screen-2xl mx-auto flex"><aside id="sidebar-left" class="hidden md:flex md:translate-x-0 w-60 text-black">
    <div id="linkTree" class="sticky top-10 pt-4 h-[calc(100vh-4rem)] overflow-y-auto w-full">
        
        
        
    </div>
</aside>




<div id="pageContainer" class="w-full lg:w-3/5"><section id="articleSummarizationContainer" class="hidden border border-dotted m-4 p-4 rounded-md transition-opacity duration-500">
    <h2 class="text-3xl font-bold text-black mb-4">Article Summarization</h2>
    <div id="articleSummaryOutput" class="flex items-center justify-center p-4 my-4 bg-zinc-100 rounded-md text-black text-sm transition-all duration-300 ease-in-out">
        <div class="animate-spin h-5 w-5 mr-3 border-4 border-brand rounded-full border-t-transparent"></div>
        <p id="generationMessage">Generating summary...</p>
    </div>
</section>

  <div class="my-4">
    <nav aria-label="Breadcrumb Navigation" class="breadcrumb flex flex-wrap text-xs px-2 items-center md:px-4">
  <ol class="flex space-x-2 md:space-x-4 lg:space-x-6">
    
    <li>
      <a href="//localhost:1313/development/" class="text-black px-2 py-1 md:px-4 md:py-2 lg:px-6 rounded shadow-md block tile transition duration-300" aria-label="Breadcrumb Item" aria-current="page">
          
      </a>
    </li>
  </ol>
</nav>

  </div>
  <h1 class="text-black p-4"></h1>
  <div id="articleContent" class="p-4">
    



<h1 id="development" class="group block ">
    Development
    <a id="-development" href="#-development" class="hidden group-hover:inline text-current ml-2">#</a>
</h1><p>Install required tools:</p>
<ul>
<li>cmake version 3.24 or higher</li>
<li>go version 1.22 or higher</li>
<li>gcc version 11.4.0 or higher</li>
</ul>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>brew install go cmake gcc</span></span></code></pre></div>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>

<p>Optionally enable debugging and more verbose logging:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># At build time</span>
</span></span><span style="display:flex;"><span>export CGO_CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-g&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># At runtime</span>
</span></span><span style="display:flex;"><span>export OLLAMA_DEBUG<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span></span></span></code></pre></div>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>

<p>Get the required libraries and build the native LLM code:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>go generate ./...</span></span></code></pre></div>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>

<p>Then build ollama:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>go build .</span></span></code></pre></div>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>

<p>Now you can run <code>ollama</code>:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./ollama</span></span></code></pre></div>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>





<h3 id="linux" class="group block py-4">
    Linux
    <a id="-linux" href="#-linux" class="hidden group-hover:inline text-current ml-2">#</a>
</h3>



<h4 id="linux-cuda-nvidia" class="group block py-4">
    Linux CUDA (NVIDIA)
    <a id="-linux-cuda-nvidia" href="#-linux-cuda-nvidia" class="hidden group-hover:inline text-current ml-2">#</a>
</h4><p><em>Your operating system distribution may already have packages for NVIDIA CUDA. Distro packages are often preferable, but instructions are distro-specific. Please consult distro-specific docs for dependencies if available!</em></p>
<p>Install <code>cmake</code> and <code>golang</code> as well as <a href="https://developer.nvidia.com/cuda-downloads">NVIDIA CUDA</a>
development and runtime packages.</p>
<p>Typically the build scripts will auto-detect CUDA, however, if your Linux distro
or installation approach uses unusual paths, you can specify the location by
specifying an environment variable <code>CUDA_LIB_DIR</code> to the location of the shared
libraries, and <code>CUDACXX</code> to the location of the nvcc compiler. You can customize
a set of target CUDA architectures by setting <code>CMAKE_CUDA_ARCHITECTURES</code> (e.g. &ldquo;50;60;70&rdquo;)</p>
<p>Then generate dependencies:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <pre tabindex="0"><code>go generate ./...</code></pre>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>

<p>Then build the binary:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <pre tabindex="0"><code>go build .</code></pre>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>





<h4 id="linux-rocm-amd" class="group block py-4">
    Linux ROCm (AMD)
    <a id="-linux-rocm-amd" href="#-linux-rocm-amd" class="hidden group-hover:inline text-current ml-2">#</a>
</h4><p><em>Your operating system distribution may already have packages for AMD ROCm and CLBlast. Distro packages are often preferable, but instructions are distro-specific. Please consult distro-specific docs for dependencies if available!</em></p>
<p>Install <a href="https://github.com/CNugteren/CLBlast/blob/master/doc/installation.md">CLBlast</a> and <a href="https://rocm.docs.amd.com/en/latest/">ROCm</a> development packages first, as well as <code>cmake</code> and <code>golang</code>.</p>
<p>Typically the build scripts will auto-detect ROCm, however, if your Linux distro
or installation approach uses unusual paths, you can specify the location by
specifying an environment variable <code>ROCM_PATH</code> to the location of the ROCm
install (typically <code>/opt/rocm</code>), and <code>CLBlast_DIR</code> to the location of the
CLBlast install (typically <code>/usr/lib/cmake/CLBlast</code>). You can also customize
the AMD GPU targets by setting AMDGPU_TARGETS (e.g. <code>AMDGPU_TARGETS=&quot;gfx1101;gfx1102&quot;</code>)</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <pre tabindex="0"><code>go generate ./...</code></pre>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>

<p>Then build the binary:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <pre tabindex="0"><code>go build .</code></pre>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>

<p>ROCm requires elevated privileges to access the GPU at runtime. On most distros you can add your user account to the <code>render</code> group, or run as root.</p>




<h4 id="advanced-cpu-settings" class="group block py-4">
    Advanced CPU Settings
    <a id="-advanced-cpu-settings" href="#-advanced-cpu-settings" class="hidden group-hover:inline text-current ml-2">#</a>
</h4><p>By default, running <code>go generate ./...</code> will compile a few different variations
of the LLM library based on common CPU families and vector math capabilities,
including a lowest-common-denominator which should run on almost any 64 bit CPU
somewhat slowly. At runtime, Ollama will auto-detect the optimal variation to
load. If you would like to build a CPU-based build customized for your
processor, you can set <code>OLLAMA_CUSTOM_CPU_DEFS</code> to the llama.cpp flags you would
like to use. For example, to compile an optimized binary for an Intel i9-9880H,
you might use:</p>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <pre tabindex="0"><code>OLLAMA_CUSTOM_CPU_DEFS=&#34;-DLLAMA_AVX=on -DLLAMA_AVX2=on -DLLAMA_F16C=on -DLLAMA_FMA=on&#34; go generate ./...
go build .</code></pre>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>





<h4 id="containerized-linux-build" class="group block py-4">
    Containerized Linux Build
    <a id="-containerized-linux-build" href="#-containerized-linux-build" class="hidden group-hover:inline text-current ml-2">#</a>
</h4><p>If you have Docker available, you can build linux binaries with <code>./scripts/build_linux.sh</code> which has the CUDA and ROCm dependencies included. The resulting binary is placed in <code>./dist</code></p>




<h3 id="windows" class="group block py-4">
    Windows
    <a id="-windows" href="#-windows" class="hidden group-hover:inline text-current ml-2">#</a>
</h3><p>Note: The windows build for Ollama is still under development.</p>
<p>Install required tools:</p>
<ul>
<li>MSVC toolchain - C/C++ and cmake as minimal requirements</li>
<li>Go version 1.22 or higher</li>
<li>MinGW (pick one variant) with GCC.
<ul>
<li><a href="https://www.mingw-w64.org/">MinGW-w64</a></li>
<li><a href="https://www.msys2.org/">MSYS2</a></li>
</ul>
</li>
</ul>
<div class="codeblock relative bg-zinc-800 rounded text-sm p-4">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>$env:CGO_ENABLED=<span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>go generate ./...
</span></span><span style="display:flex;"><span>go build .</span></span></code></pre></div>
    <button class="copy-btn absolute top-2 right-2 bg-zinc-600 hover:bg-zinc-900 transition duration-300 text-white rounded px-2 py-1 text-xs focus:outline-none" onclick="copyCodeToClipboard(this)">Copy</button>
</div>





<h4 id="windows-cuda-nvidia" class="group block py-4">
    Windows CUDA (NVIDIA)
    <a id="-windows-cuda-nvidia" href="#-windows-cuda-nvidia" class="hidden group-hover:inline text-current ml-2">#</a>
</h4><p>In addition to the common Windows development tools described above, install CUDA after installing MSVC.</p>
<ul>
<li><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html">NVIDIA CUDA</a></li>
</ul>




<h4 id="windows-rocm-amd-radeon" class="group block py-4">
    Windows ROCm (AMD Radeon)
    <a id="-windows-rocm-amd-radeon" href="#-windows-rocm-amd-radeon" class="hidden group-hover:inline text-current ml-2">#</a>
</h4><p>In addition to the common Windows development tools described above, install AMDs HIP package after installing MSVC.</p>
<ul>
<li><a href="https://www.amd.com/en/developer/resources/rocm-hub/hip-sdk.html">AMD HIP</a></li>
<li><a href="https://strawberryperl.com/">Strawberry Perl</a></li>
</ul>
<p>Lastly, add <code>ninja.exe</code> included with MSVC to the system path (e.g. <code>C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\Ninja</code>).</p>

  </div>
  <div class="p-4">
    
<div class="mt-8 flex justify-between items-center">
    
        <a href="/api/" class="tile text-black py-2 px-4 rounded-r-md transition duration-300">  </a>
    

    
        <a href="/faq/" class="tile text-black py-2 px-4 rounded-l-md transition duration-300">  </a>
    
</div>
  </div>

    </div><div id="searchResultsContainer" class="hidden w-full lg:w-3/5 p-4" data-productFilter="">
    
</div><aside id="sidebar-right" class="hidden lg:block w-60">
  
    <div id="tocContainer" class="hidden toc sticky top-10 pt-4 h-[calc(100vh-4rem)] overflow-y-auto text-sm text-black transition duration-300"> 
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#linux">Linux</a></li>
        <li><a href="#windows">Windows</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>
  
  
    <div id="chatContainer" class="hidden sticky top-16 h-[calc(100vh-5rem)] flex flex-col flex justify-end">
    <div id="chat-messages" class="flex flex-col overflow-y-auto text-base">
    </div>
    <div id="chat-controls" class="flex flex-row text-xs mt-2">
        <form id="chat-form" class="flex flex-row">
            <input id="question" type="text" aria-label="Question Input" placeholder="Ask the docs" class="h-10 border rounded-lg p-1 mr-1 focus:outline-none focus:ring-2 focus:ring-brand" />
            <button id="sendButton" aria-label="Send" class="flex items-center bg-brand my-1  hover:bg-black text-white p-1 mr-1 rounded-lg shadow-lg transition duration-300"><img src="/icons/send.svg" alt="Send" class="w-5 h-5"></button>
        </form>
        <button id="clearAll" aria-label="Delete All"  class="flex items-center bg-black my-1 hover:bg-red-600 text-white p-1 rounded-lg shadow-lg transition duration-300"><img src="/icons/delete.svg" alt="Delete" class="w-5 h-5"></button>
    </div>
</div>
  
</aside>
</main>
  <footer>


<script src="https://cdn.jsdelivr.net/npm/algoliasearch@latest/dist/algoliasearch-lite.umd.js" defer></script>
</footer>
</body>
</html>
